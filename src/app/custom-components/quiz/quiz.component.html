<div class="quiz-container">
  <div class="timer-container">
    <span id="timer">Time Left: {{ timeLeft }}</span>
  </div>

  <div class="mcq-container" *ngIf="!quizCompleted">
    <div>
      <p class="question-text">{{ questions[currentQuestionIndex].text }}</p>
      <div class="options-container">
        <label class="option-item" *ngFor="let option of questions[currentQuestionIndex].options; let i = index">
          <input type="radio" name="answer" [value]="option" (change)="onAnswerSelected(option)">
          <span class="option-number">{{ i + 1 }}.</span>
          <span class="option-text">{{ option }}</span>
        </label>
      </div>
    </div>
  </div>

  <div class="nav-buttons" *ngIf="!quizCompleted">
    <button class="prev-btn" (click)="previousQuestion()" [disabled]="currentQuestionIndex === 0">
      Previous
    </button>
    <button class="next-btn" *ngIf="currentQuestionIndex < questions.length - 1" (click)="nextQuestion()">
      Next
    </button>
    <button class="submit-btn" *ngIf="currentQuestionIndex === questions.length - 1" (click)="submitQuiz()">
      Submit
    </button>
  </div>

  <div class="ai-section" *ngIf="quizCompleted">
    <button class="ask-ai-btn" (click)="askAI()">Ask AI</button>
    <div class="ai-explanation" *ngIf="aiExplanation">
      <p>{{ aiExplanation }}</p>
    </div>
  </div>

  <div class="quiz-end-container" *ngIf="quizCompleted">
    <h1>Quiz Completed!</h1>
    <p class="score">Your Score: {{ score }}/{{ questions.length }}</p>
    <button class="retry-btn" (click)="retryQuiz()">Retry Quiz</button>
  </div>
</div>